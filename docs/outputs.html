<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>4 Outputs | Building Web Apps with R Shiny</title>
<meta name="author" content="Lisa DeBruine">
<meta name="description" content="Output are ways that the Shiny app can dynamically display information to the user. In the user interface (UI), you create outputs with IDs that you reference in an associated rendering function...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="4 Outputs | Building Web Apps with R Shiny">
<meta property="og:type" content="book">
<meta property="og:url" content="https://debruine.github.io/shinyintro/outputs.html">
<meta property="og:image" content="https://debruine.github.io/shinyintro/images/logos/shinyintro.png">
<meta property="og:description" content="Output are ways that the Shiny app can dynamically display information to the user. In the user interface (UI), you create outputs with IDs that you reference in an associated rendering function...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="4 Outputs | Building Web Apps with R Shiny">
<meta name="twitter:description" content="Output are ways that the Shiny app can dynamically display information to the user. In the user interface (UI), you create outputs with IDs that you reference in an associated rendering function...">
<meta name="twitter:image" content="https://debruine.github.io/shinyintro/images/logos/shinyintro.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.0/transition.js"></script><script src="libs/bs3compat-0.3.0/tabs.js"></script><script src="libs/bs3compat-0.3.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-6NP3MF25W3"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-6NP3MF25W3');
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="include/psyteachr.css">
<link rel="stylesheet" href="include/webex.css">
<link rel="stylesheet" href="include/style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Building Web Apps with R Shiny</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Overview</a></li>
<li><a class="" href="first-app.html"><span class="header-section-number">1</span> Your First Shiny App</a></li>
<li><a class="" href="shinydashboard.html"><span class="header-section-number">2</span> ShinyDashboard</a></li>
<li><a class="" href="inputs.html"><span class="header-section-number">3</span> Inputs</a></li>
<li><a class="active" href="outputs.html"><span class="header-section-number">4</span> Outputs</a></li>
<li><a class="" href="reactives.html"><span class="header-section-number">5</span> Reactive functions</a></li>
<li><a class="" href="data.html"><span class="header-section-number">6</span> Reading and saving data</a></li>
<li><a class="" href="web.html"><span class="header-section-number">7</span> HTML, CSS, and JavaScript</a></li>
<li><a class="" href="structure.html"><span class="header-section-number">8</span> Structuring a complex app</a></li>
<li><a class="" href="debugging.html"><span class="header-section-number">9</span> Debugging and error handling</a></li>
<li><a class="" href="contingency.html"><span class="header-section-number">10</span> Contingent Display</a></li>
<li><a class="" href="sharing.html"><span class="header-section-number">11</span> Sharing your Apps</a></li>
<li><a class="" href="reports.html"><span class="header-section-number">12</span> Customized reports</a></li>
<li><a class="" href="modules.html"><span class="header-section-number">13</span> Shiny modules for repeated structures</a></li>
<li class="book-part">Appendices</li>
<li><a class="" href="installing-r.html"><span class="header-section-number">A</span> Installing R</a></li>
<li><a class="" href="symbols.html"><span class="header-section-number">B</span> Symbols</a></li>
<li><a class="" href="glossary.html"><span class="header-section-number">C</span> Glossary</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/pdebruine/shinyintro">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="outputs" class="section level1" number="4">
<h1>
<span class="header-section-number">4</span> Outputs<a class="anchor" aria-label="anchor" href="#outputs"><i class="fas fa-link"></i></a>
</h1>
<p>Output are ways that the Shiny app can dynamically display information to the user. In the user interface (<a class="glossary" target="_blank" title="The User Interface. This usually refers to a Shiny App as the user will see it." href="https://psyteachr.github.io/glossary/u#ui">UI</a>), you create outputs with IDs that you reference in an associated rendering function inside the <a class="glossary" target="_blank" title="This is the part of a Shiny app that works with logic." href="https://psyteachr.github.io/glossary/s#server">server</a> function.</p>
<p>Explore some different output types in the embedded app below before you read about how to set up each type.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:output-demo-app"></span>
<iframe src="https://shiny.psy.gla.ac.uk/debruine/output_demo/?showcase=0" width="100%" height="670px" data-external="1">
</iframe>
<p class="caption">
Figure 4.1: Output Demo App. You can also access this app with <code><a href="https://rdrr.io/pkg/shinyintro/man/app.html">shinyintro::app("output_demo")</a></code>or view it in a separate tab with the <a href="https://shiny.psy.gla.ac.uk/debruine/output_demo/" target="_blank">showcase interface</a>.
</p>
</div>
<div id="text" class="section level2" number="4.1">
<h2>
<span class="header-section-number">4.1</span> Text<a class="anchor" aria-label="anchor" href="#text"><i class="fas fa-link"></i></a>
</h2>
<p><code><span class="fu">textOutput</span>()</code> defaults to text inside a generic <code>&lt;span&gt;</code> or <code>&lt;div&gt;</code>, but you can use a different <a class="glossary" target="_blank" title="A unit of HTML, such as a header, paragraph, or image." href="https://psyteachr.github.io/glossary/e#element-html">element</a> with the <code><span class="at">container</span></code> argument.</p>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># in the UI function</span>
<span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textOutput.html">textOutput</a></span><span class="op">(</span><span class="st">"demo_text"</span>, container <span class="op">=</span> <span class="va">tags</span><span class="op">$</span><span class="va">h3</span><span class="op">)</span></code></pre></div>
<p><code><span class="fu">renderText</span>()</code> replaces the text of the linked element with its returned string.</p>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># in the server function</span>
<span class="va">output</span><span class="op">$</span><span class="va">demo_text</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html">renderText</a></span><span class="op">(</span><span class="op">{</span>
    <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="st">"Plot of %s"</span>, <span class="va">input</span><span class="op">$</span><span class="va">y</span><span class="op">)</span>
<span class="op">}</span><span class="op">)</span></code></pre></div>
<p>If you use <code><span class="fu">verbatimTextOutput</span>()</code> in the UI (no change to the render function), it will show the output in a fixed-width font. This can be good for code or text you want the user to copy.</p>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># in the UI function</span>
<span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textOutput.html">verbatimTextOutput</a></span><span class="op">(</span><span class="st">"demo_verbatim"</span><span class="op">)</span>

<span class="co"># in the server function</span>
<span class="va">output</span><span class="op">$</span><span class="va">demo_verbatim</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html">renderText</a></span><span class="op">(</span><span class="op">{</span>
  <span class="va">code</span> <span class="op">&lt;-</span>
    <span class="st">"ggplot(iris, aes(x = Species, y = %s, color = Species)) +
    geom_violin(show.legend = FALSE) +
    stat_summary(show.legend = FALSE)"</span>
  
  <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="va">code</span>, <span class="va">input</span><span class="op">$</span><span class="va">y</span><span class="op">)</span>
<span class="op">}</span><span class="op">)</span></code></pre></div>
</div>
<div id="plots" class="section level2" number="4.2">
<h2>
<span class="header-section-number">4.2</span> Plots<a class="anchor" aria-label="anchor" href="#plots"><i class="fas fa-link"></i></a>
</h2>
<p><code><span class="fu">plotOutput</span>()</code> displays plots made with the <a class="glossary" target="_blank" title="The set of R functions that come with a basic installation of R, before you add external packages" href="https://psyteachr.github.io/glossary/b#base-r">base R</a> plotting functions (e.g., <code><span class="fu">plot</span>()</code>, <code><span class="fu">hist</span>()</code>) or <code class="package">ggplot2</code> functions.</p>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># in the UI function</span>
<span class="fu"><a href="https://rdrr.io/pkg/shiny/man/plotOutput.html">plotOutput</a></span><span class="op">(</span><span class="st">"demo_plot"</span>, width <span class="op">=</span> <span class="st">"500px"</span>, height<span class="op">=</span><span class="st">"300px"</span><span class="op">)</span></code></pre></div>
<p>What is the default value for <code><span class="at">width</span></code>?<br><select class="webex-select"><option value="blank"></option>
<option value="answer">100%</option>
<option value="">400px</option>
<option value="">400</option>
<option value="">5in</option>
<option value="">7in</option></select><br>
What is the default value for <code><span class="at">height</span></code>?<br><select class="webex-select"><option value="blank"></option>
<option value="">100%</option>
<option value="answer">400px</option>
<option value="">400</option>
<option value="">5in</option>
<option value="">7in</option></select></p>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># in the server function</span>
<span class="va">output</span><span class="op">$</span><span class="va">demo_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPlot.html">renderPlot</a></span><span class="op">(</span><span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">iris</span>, <span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Species</span>, y <span class="op">=</span> <span class="va">.data</span><span class="op">[[</span><span class="va">input</span><span class="op">$</span><span class="va">y</span><span class="op">]</span><span class="op">]</span>, color <span class="op">=</span> <span class="va">Species</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/geom_violin.html">geom_violin</a></span><span class="op">(</span>show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/stat_summary.html">stat_summary</a></span><span class="op">(</span>show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://rdrr.io/pkg/ggplot2/man/labs.html">ylab</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">y</span><span class="op">)</span>
<span class="op">}</span><span class="op">)</span></code></pre></div>
<div class="warning">
<p>If you want to create dynamic plots that change with input, note how you need to use <code>y = .data[[input$y]]</code> inside <code><span class="fu">aes</span>()</code>, instead of just <code>y = input$y</code>.</p>
</div>
</div>
<div id="images" class="section level2" number="4.3">
<h2>
<span class="header-section-number">4.3</span> Images<a class="anchor" aria-label="anchor" href="#images"><i class="fas fa-link"></i></a>
</h2>
<p><code><span class="fu">imageOutput</span>()</code> takes the same arguments as <code><span class="fu">plotOutput</span>()</code>. You can leave <code><span class="at">width</span></code> and <code><span class="at">height</span></code> as their defaults if you are going to set those values in the render function.</p>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># in the UI function</span>
<span class="fu"><a href="https://rdrr.io/pkg/shiny/man/plotOutput.html">imageOutput</a></span><span class="op">(</span><span class="st">"demo_image"</span><span class="op">)</span></code></pre></div>
<p><code><span class="fu">renderImage</span>()</code> needs to return a named list with at least an <code><span class="at">src</span></code> with the image path. You can also set the <code><span class="at">width</span></code> and <code><span class="at">height</span></code> (numeric values are in pixels), <code><span class="at">class</span></code> and <code><span class="at">alt</span></code> (the alt-text for screen readers).</p>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># in the server function</span>
<span class="va">output</span><span class="op">$</span><span class="va">demo_image</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderImage.html">renderImage</a></span><span class="op">(</span><span class="op">{</span>
    <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>src <span class="op">=</span> <span class="st">"images/flower.jpg"</span>,
         width <span class="op">=</span> <span class="fl">100</span>,
         height <span class="op">=</span> <span class="fl">100</span>,
         alt <span class="op">=</span> <span class="st">"A flower"</span><span class="op">)</span>
<span class="op">}</span>, deleteFile <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<div class="warning">
<p>The <code><span class="at">deleteFile</span></code> argument is currently optional, but triggers periodic warnings that it won't be optional in the future. You should set it to <code><span class="cn">TRUE</span></code> if you're making a temporary file (this stops unneeded plots using memory) and <code><span class="cn">FALSE</span></code> if you're referencing a file you previously saved.</p>
</div>
</div>
<div id="tables" class="section level2" number="4.4">
<h2>
<span class="header-section-number">4.4</span> Tables<a class="anchor" aria-label="anchor" href="#tables"><i class="fas fa-link"></i></a>
</h2>
<p>Display a table using <code><span class="fu">tableOutput</span>()</code>.</p>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># in the UI function</span>
<span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderTable.html">tableOutput</a></span><span class="op">(</span><span class="st">"demo_table"</span><span class="op">)</span></code></pre></div>
<p>This is paired with <code><span class="fu">renderTable</span>()</code>, which makes a table out of any data frame it returns.</p>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># in the server function</span>
<span class="va">output</span><span class="op">$</span><span class="va">demo_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderTable.html">renderTable</a></span><span class="op">(</span><span class="op">{</span>
  <span class="va">iris</span> <span class="op">%&gt;%</span>
    <span class="fu">group_by</span><span class="op">(</span><span class="va">Species</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">summarise</span><span class="op">(</span>mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">.data</span><span class="op">[[</span><span class="va">input</span><span class="op">$</span><span class="va">y</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>,
              sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">.data</span><span class="op">[[</span><span class="va">input</span><span class="op">$</span><span class="va">y</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span><span class="op">)</span></code></pre></div>
<div class="warning">
<p>Note how you need to use <code>.data[[input$y]]</code> inside <code><span class="fu">dplyr::summarise</span>()</code>, instead of just <code>input$y</code> to dynamically choose which variable to summarise.</p>
</div>
<div id="data-tables" class="section level3" number="4.4.1">
<h3>
<span class="header-section-number">4.4.1</span> Data Tables<a class="anchor" aria-label="anchor" href="#data-tables"><i class="fas fa-link"></i></a>
</h3>
<p>If you have a long table to show, or one that you want users to be able to sort or search, use <code><span class="fu">DT::dataTableOutput</span>()</code> (or its synonym <code><span class="fu">DTOutput</span>()</code>).</p>
<p>The basic <code class="package">shiny</code> package has <code><span class="fu">dataTableOutput</span>()</code> and <code><span class="fu">renderDataTable</span>()</code> functions, but they can be buggy. The versions in the <code class="package">DT</code> package are better and have <a href="https://rstudio.github.io/DT/" target="_blank">many additional functions</a>, so I use those.</p>
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># in the UI function</span>
<span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/dataTableOutput.html">dataTableOutput</a></span><span class="op">(</span><span class="st">"demo_datatable"</span>,
                    width <span class="op">=</span> <span class="st">"50%"</span>,
                    height <span class="op">=</span> <span class="st">"auto"</span><span class="op">)</span></code></pre></div>
<p>The paired render function is <code><span class="fu">renderDataTable</span>()</code> (or its synonym <code><span class="fu">renderDT</span>()</code>). You can customise data tables in many ways, but we'll stick with a basic example here that limits the number of rows shown at once to <code><span class="fl">10</span></code>.</p>
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># in the server function</span>
<span class="va">output</span><span class="op">$</span><span class="va">demo_datatable</span> <span class="op">&lt;-</span> <span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/dataTableOutput.html">renderDataTable</a></span><span class="op">(</span><span class="op">{</span>
    <span class="va">iris</span>
<span class="op">}</span>, options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>pageLength <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="info">
<p>You can use the <code class="package">DT</code> synonyms to make sure you're not accidentally using the <code class="package">shiny</code> versions, which don't have the same options.</p>
</div>
</div>
</div>
<div id="dynamic-html" class="section level2" number="4.5">
<h2>
<span class="header-section-number">4.5</span> Dynamic HTML<a class="anchor" aria-label="anchor" href="#dynamic-html"><i class="fas fa-link"></i></a>
</h2>
<p>If you want to dynamically create parts of the UI, you can use <code><span class="fu">uiOutput</span>()</code>.</p>
<div class="sourceCode" id="cb64"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># in the UI function</span>
<span class="fu"><a href="https://rdrr.io/pkg/shiny/man/htmlOutput.html">uiOutput</a></span><span class="op">(</span><span class="st">"demo_ui"</span><span class="op">)</span></code></pre></div>
<p>You can create the UI using <code><span class="fu">renderUI</span>()</code> to return HTML created using the input functions we learned about in Section <a href="inputs.html#inputs">3</a>, the <a href="first-app.html#tags">tag functions</a>, or HTML that you write yourself (as an argument to <code><span class="fu">HTML</span>()</code>).</p>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># in the server function</span>
<span class="va">output</span><span class="op">$</span><span class="va">demo_ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderUI.html">renderUI</a></span><span class="op">(</span><span class="op">{</span>
  <span class="va">cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span>
  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/selectInput.html">selectInput</a></span><span class="op">(</span><span class="st">"y"</span>, <span class="st">"Column to plot"</span>, <span class="va">cols</span>, <span class="st">"Sepal.Length"</span><span class="op">)</span>
<span class="op">}</span><span class="op">)</span></code></pre></div>
<div class="info">
<p>The function <code><span class="fu">htmlOutput</span>()</code> is a synonym for <code><span class="fu">uiOutput</span>()</code>, so you might see that in some code examples, but I use <code><span class="fu">uiOutput</span>()</code> to make the connection with <code><span class="fu">renderUI</span>()</code> clearer, since there is no <code><span class="fu">renderHTML</span>()</code>.</p>
</div>
</div>
<div id="reosurces-outputs" class="section level2" number="4.6">
<h2>
<span class="header-section-number">4.6</span> Further Resources<a class="anchor" aria-label="anchor" href="#reosurces-outputs"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li><a href="https://mastering-shiny.org/basic-ui.html#outputs" target="_blank">Mastering Shiny Section 2.3</a></li>
<li><a href="https://vimeo.com/rstudioinc/review/131218530/212d8a5a7a/#t=10m41s" target="_blank">RStudio Shiny Tutorials</a></li>
<li><a href="https://rstudio.github.io/DT/" target="_blank">DT (data tables)</a></li>
</ul>
</div>
<div id="exercises-outputs" class="section level2" number="4.7">
<h2>
<span class="header-section-number">4.7</span> Exercises<a class="anchor" aria-label="anchor" href="#exercises-outputs"><i class="fas fa-link"></i></a>
</h2>
<div id="modify-the-demo" class="section level3 unnumbered">
<h3>Modify the demo<a class="anchor" aria-label="anchor" href="#modify-the-demo"><i class="fas fa-link"></i></a>
</h3>
<p>Clone the "output_demo" app and modify it to use a different dataset.</p>
</div>
<div id="pets-1" class="section level3 unnumbered">
<h3>Pets<a class="anchor" aria-label="anchor" href="#pets-1"><i class="fas fa-link"></i></a>
</h3>
<p>Add outputs and appropriate render functions to show a plot and the data from the pets questionnaire you made for the exercise in Section <a href="inputs.html#inputs">3</a>.</p>
</div>
</div>
<div id="your-app-outputs" class="section level2" number="4.8">
<h2>
<span class="header-section-number">4.8</span> Your App<a class="anchor" aria-label="anchor" href="#your-app-outputs"><i class="fas fa-link"></i></a>
</h2>
<p>In the app you're developing, add relevant outputs, such as for plots or tables, and the appropriate render function for each output. You can leave the contents blank for now or add in some code to create output.</p>

</div>
</div>
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  if (t = document.getElementById("webex-total_correct")) {
    var correct = document.getElementsByClassName("webex-correct").length;
    var solvemes = document.getElementsByClassName("webex-solveme").length;
    var radiogroups = document.getElementsByClassName("webex-radiogroup").length;
    var selects = document.getElementsByClassName("webex-select").length;

    t.innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

window.onload = function() {
  console.log("webex onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;

    $(solveme[i]).after(" <span class='webex-icon'></span>");
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
    $(selects[i]).after(" <span class='webex-icon'></span>");
  }

  update_total_correct();
}

</script><script>
$( document ).ready(function() {
  var cite = ' ';
  var psyteachr = ' <a href="https://psyteachr.github.io/"><img src="images/logos/psyteachr_logo.png" style="height: 31px; color: white;" alt="psyTeachR: Reproducible Research" /></a>';
  var license = ' <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" target="blank"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"></a>';

  $("footer div.row div:eq(1) p").html(
    psyteachr + license + cite
  );

  // open rdrr links externally
  $("a[href^='https://rdrr.io']").click(function(){
    window.open(this.href);
    return false;
  });

  // visible second sidebar in mobile
  function move_sidebar() {
    var w = window.innerWidth;
    if (w < 992) {
      $("#toc").appendTo($("#main-nav"));
    } else {
      $("#toc").appendTo($("div.sidebar-chapter"));
    }
  }
  move_sidebar();
  window.onresize = move_sidebar;
});
</script><div class="chapter-nav">
<div class="prev"><a href="inputs.html"><span class="header-section-number">3</span> Inputs</a></div>
<div class="next"><a href="reactives.html"><span class="header-section-number">5</span> Reactive functions</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#outputs"><span class="header-section-number">4</span> Outputs</a></li>
<li><a class="nav-link" href="#text"><span class="header-section-number">4.1</span> Text</a></li>
<li><a class="nav-link" href="#plots"><span class="header-section-number">4.2</span> Plots</a></li>
<li><a class="nav-link" href="#images"><span class="header-section-number">4.3</span> Images</a></li>
<li>
<a class="nav-link" href="#tables"><span class="header-section-number">4.4</span> Tables</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#data-tables"><span class="header-section-number">4.4.1</span> Data Tables</a></li></ul>
</li>
<li><a class="nav-link" href="#dynamic-html"><span class="header-section-number">4.5</span> Dynamic HTML</a></li>
<li><a class="nav-link" href="#reosurces-outputs"><span class="header-section-number">4.6</span> Further Resources</a></li>
<li>
<a class="nav-link" href="#exercises-outputs"><span class="header-section-number">4.7</span> Exercises</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#modify-the-demo">Modify the demo</a></li>
<li><a class="nav-link" href="#pets-1">Pets</a></li>
</ul>
</li>
<li><a class="nav-link" href="#your-app-outputs"><span class="header-section-number">4.8</span> Your App</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/pdebruine/shinyintro/blob/master/book/04_outputs.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/pdebruine/shinyintro/edit/master/book/04_outputs.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Building Web Apps with R Shiny</strong>" was written by Lisa DeBruine. It was last built on 2021-10-13.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
